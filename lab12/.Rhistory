mutate(locality_cave = if_else(str_detect(locality, "Cave"), "cave", "surface"))
ggplot(colors=locality_cave) +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(data = spiders, aes(longitude, latitude))+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(0.9, 0.3))
spiders %>% ggplot(colors=locality_cave) +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(data = spiders, aes(longitude, latitude))+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(0.9, 0.3))
spiders %>% ggplot() +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(data = spiders, aes(longitude, latitude), colors=locality_cave)+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(0.9, 0.3))
spiders %>% ggplot() +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(data = spiders, aes(longitude, latitude), colors=spiders$locality_cave)+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(0.9, 0.3))
spiders %>% ggplot(colors = locality_cave) +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(data = spiders, aes(longitude, latitude))+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(0.9, 0.3))
spiders %>% ggplot(colors = locality_cave) +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(data = spiders, aes(longitude, latitude, colors = locality_cave))+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(0.9, 0.3))
spiders %>% ggplot(colors = locality_cave) +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(data = spiders, aes(longitude, latitude, colors = spiders$locality_cave))+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(0.9, 0.3))
spiders2 <- spiders %>%
mutate(locality_cave = if_else(str_detect(locality, "Cave"), "cave", "surface"))
spiders2
spiders2 %>% ggplot(colors = locality_cave) +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(data = spiders, aes(longitude, latitude, colors = locality_cave))+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(0.9, 0.3))
spiders2 %>% ggplot(colors = locality_cave) +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(data = spiders, aes(longitude, latitude))+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(0.9, 0.3))
spiders2 %>% ggplot(colors = locality_cave) +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(data = spiders, aes(longitude, latitude, colors = locality_cave))+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(0.9, 0.3))
spiders2 %>% ggplot(colors = locality_cave) +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(data = spiders2, aes(longitude, latitude, colors = locality_cave))+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(0.9, 0.3))
spiders2 %>% ggplot(aes(longitude, latitude, colors = locality_cave)) +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point()+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(0.9, 0.3))
spiders2 %>% ggplot(aes(x = longitude, y = latitude, colors = locality_cave)) +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point()+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(0.9, 0.3))
spiders2 %>% ggplot() +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(aes(x = longitude, y = latitude, colors = locality_cave))+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(0.9, 0.3))
str(spiders2)
spiders2 <- spiders %>%
mutate(locality_cave = if_else(str_detect(locality, "Cave"), "cave", "surface"))
spiders2
str(spiders2)
spiders2$locality_cave<-as.factor(spiders2$locality_cave)
str(spiders2)
spiders2 %>% ggplot() +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(aes(x = longitude, y = latitude, colors = locality_cave))+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(0.9, 0.3))
spiders2 %>% ggplot() +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(aes(x = longitude, y = latitude, color = locality_cave))+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(0.9, 0.3))
spiders2 %>% ggplot() +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(aes(x = longitude, y = latitude, color = locality_cave, shape = locality_cave))+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(0.9, 0.3))
spiders2 %>% ggplot() +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(aes(x = longitude, y = latitude, color = locality_cave, shape = locality_cave))+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(1.1, 0.3))
spiders2 %>% ggplot() +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(aes(x = longitude, y = latitude, color = locality_cave, shape = locality_cave))+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(1.2, 0.3))
wolves <- read_csv(here("lab12", "data", "wolves_data", "wolves_dataset.csv"))
wolves
str(wolves)
summary(wolves)
str(wolves)
wolves$pop <- as.factor(wolves$pop)
levels(wolves$pop)
wolves %>%
filter(lat <= 49) %>%
levels(pop)
wolves %>%
filter(lat <= 49) %>%
levels(wolves$pop)
wolves %>%
filter(lat <= 49)
wolves$pop <- as.factor(wolves$pop)
levels(wolves$pop)
wolves %>%
filter(lat <= 49)
as.factor(wolves)
wolves$pop <- as.factor(wolves$pop)
levels(wolves$pop)
lower_wolves <- wolves %>%
filter(lat <= 49)
str(lower_wolves)
wolves$pop <- as.factor(wolves$pop)
levels(wolves$pop)
str(wolves)
summary(lower_wolves)
summary(wolves)
us_comp <- usa_sf() # get a composite map of the USA
us_comp
us_comp <- usa_sf() # get a composite map of the USA
us_comp
cnty_comp <- counties_sf() # get a composite map of USA counties
cnty_comp
us_comp <- usa_sf() # get a composite map of the USA
lower_comp <- us_comp %>%
filter(state!="Alaska" & state!="Hawaii")
us_comp <- usa_sf() # get a composite map of the USA
lower_comp <- us_comp %>%
filter(name!="Alaska" & name!="Hawaii")
cnty_comp <- counties_sf() # get a composite map of USA counties
lower_cnty_comp <- cnty_comp %>%
filter(state!="Alaska" & state!="Hawaii")
ggplot() +
geom_sf(data = lower_comp, size = 0.125)+
geom_sf(data = lower_cnty_comp, size = 0.125)
ggplot() +
geom_sf(data = lower_comp, size = 0.125)+
geom_sf(data = lower_cnty_comp, size = 0.125)+
geom_point(data = lower_wolves, aes(long, lat))
ggplot() +
geom_sf(data = lower_comp, size = 0.125)+
geom_sf(data = lower_cnty_comp, size = 0.125)+
geom_point(data = lower_wolves, aes(long, lat))
ggplot() +
geom_sf(data = lower_comp, size = 0.125)+
geom_sf(data = lower_cnty_comp, size = 0.125)
ggplot() +
geom_sf(data = lower_comp, size = 0.125)+
geom_sf(data = lower_cnty_comp, size = 0.125)+
geom_point(data = lower_wolves, aes(long, lat, size=2, color="red"))
lower_wolves %>%
ggplot() +
geom_sf(data = lower_comp, size = 0.125)+
geom_sf(data = lower_cnty_comp, size = 0.125)+
geom_point(aes(x = long, y = lat, size=2, color=pop))
lower_wolves %>%
ggplot() +
geom_sf(data = lower_comp, size = 0.125)+
geom_sf(data = lower_cnty_comp, size = 0.125)+
geom_point(aes(x = long, y = lat, color=pop))
lower_wolves %>%
ggplot() +
geom_sf(data = lower_comp, size = 0.125)+
geom_sf(data = lower_cnty_comp, size = 0.125)+
geom_point(aes(x = long, y = lat, color=pop),size = 2, alpha = 0.4)
lower_wolves %>%
ggplot() +
geom_sf(data = lower_comp, size = 0.125)+
geom_sf(data = lower_cnty_comp, size = 0.125)+
geom_point(aes(x = long, y = lat, color=pop),size = 2, alpha = 0.8)
lower_wolves %>%
ggplot() +
geom_sf(data = lower_comp, size = 0.125)+
geom_sf(data = lower_cnty_comp, size = 0.125)+
geom_point(aes(x = long, y = lat, color=pop),size = 3, alpha = 0.8)
lower_wolves %>%
ggplot() +
geom_sf(data = lower_comp, size = 0.125)+
geom_sf(data = lower_cnty_comp, size = 0.125)+
geom_point(aes(x = long, y = lat, color=pop),size = 4, alpha = 0.8)
lower_wolves %>%
group_by(pop) %>%
summarise(mean_pack.size = mean(pack.size))
summary(lower_wolves)
lower_wolves %>%
ggplot() +
geom_sf(data = lower_comp, size = 0.125)+
geom_sf(data = lower_cnty_comp, size = 0.125)+
geom_point(aes(x = long, y = lat, color=pop),size = pack.size, alpha = 0.8)
lower_wolves %>%
ggplot() +
geom_sf(data = lower_comp, size = 0.125)+
geom_sf(data = lower_cnty_comp, size = 0.125)+
geom_point(aes(x = long, y = lat, color=pop, size = pack.size), alpha = 0.8)
str(lower_wolves)
lower_wolves %>%
ggplot() +
geom_sf(data = lower_comp, size = 0.125)+
geom_sf(data = lower_cnty_comp, size = 0.125)+
geom_point(aes(x = long, y = lat, color=pop, size = pack.size), alpha = 0.5)
#install.packages("osmdata")
library(osmdata)
install.packages("osmdata")
#install.packages("osmdata")
library(osmdata)
sac_map <- get_map(getbb("Sacramento"), maptype = "toner-background")
install.packages("osmdata")
#install.packages("osmdata")
library(osmdata)
sac_map <- get_map(getbb("Sacramento"), maptype = "toner-background")
ggmap(sac_map)
install.packages("devtools")
library(devtools)
devtools::install_github("dkahle/ggmap")
install.packages("albersusa")
devtools::install_github("hrbrmstr/albersusa")
#install.packages("devtools")
#library(devtools)
#devtools::install_github("dkahle/ggmap")
#install.packages("albersusa")
#devtools::install_github("hrbrmstr/albersusa")
library(tidyverse)
install.packages(c("cluster", "knitr", "rlang", "rmarkdown"))
install.packages(c("cluster", "knitr", "rlang", "rmarkdown"))
install.packages(c("cluster", "knitr", "rlang", "rmarkdown"))
library(tidyverse)
library(here)
library(janitor)
library(ggmap)
#install.packages("devtools")
#library(devtools)
#devtools::install_github("dkahle/ggmap")
#install.packages("albersusa")
#devtools::install_github("hrbrmstr/albersusa")
library(tidyverse)
library(here)
library(janitor)
library(ggmap)
spiders <- read_csv(here("lab12", "data", "spiders_with_locs.csv")) %>% clean_names()
spiders <- spiders %>% filter(latitude<=42)
spiders %>%
select(latitude, longitude) %>%
summary()
lat <- c(34.67, 41.80)
long <- c(-124.1, -115.5)
bbox <- make_bbox(long, lat, f = 0.05) # slightly expand the bounding box
#install.packages("osmdata")
library(osmdata)
sac_map <- get_map(getbb("Sacramento"), maptype = "toner-background")
ggmap(sac_map)
#map2 <- get_map(bbox, source = "osm", maptype = "toner")
#ggmap(map2)
map1 <- get_map(bbox, maptype = "terrain", source = "stamen")
ggmap(map1)
ggmap(map1) +
geom_point(data = spiders, aes(longitude, latitude)) +
labs(x = "Longitude", y = "Latitude", title = "Spider Locations")
ggmap(map1) +
geom_point(data = spiders, aes(longitude, latitude),size = 2, color = "red", alpha = 0.3) +
labs(x = "Longitude", y = "Latitude", title = "Spider Locations")
ggmap(map1) +
geom_point(data = spiders, aes(longitude, latitude), size = 2, alpha = 0.4) +
labs(x = "Longitude", y = "Latitude", title = "Spider Locations")
library(albersusa)
us_comp <- usa_sf() # get a composite map of the USA
us_comp
cnty_comp <- counties_sf() # get a composite map of USA counties
cnty_comp
ggplot() +
geom_sf(data = us_comp, size = 0.125) +
theme_linedraw()+
labs(title = "USA State Boundaries")
ca_comp <- us_comp %>%
filter(name=="California")
ca_cnty_comp <- cnty_comp %>%
filter(state=="California")
ggplot() +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)
ggplot() +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(data = spiders, aes(longitude, latitude))
ggplot() +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(data = spiders, aes(longitude, latitude))+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(0.9, 0.3)) -> uso_map
ggsave(filename = "map.svg", device = "svg", plot = uso_map, height = 5, width = 7)
install.packages("svglite")
#install.packages("devtools")
#library(devtools)
#devtools::install_github("dkahle/ggmap")
#install.packages("albersusa")
#devtools::install_github("hrbrmstr/albersusa")
library(tidyverse)
library(here)
library(janitor)
library(ggmap)
spiders <- read_csv(here("lab12", "data", "spiders_with_locs.csv")) %>% clean_names()
spiders <- spiders %>% filter(latitude<=42)
spiders %>%
select(latitude, longitude) %>%
summary()
lat <- c(34.67, 41.80)
long <- c(-124.1, -115.5)
bbox <- make_bbox(long, lat, f = 0.05) # slightly expand the bounding box
#install.packages("osmdata")
library(osmdata)
sac_map <- get_map(getbb("Sacramento"), maptype = "toner-background")
ggmap(sac_map)
#map2 <- get_map(bbox, source = "osm", maptype = "toner")
#ggmap(map2)
map1 <- get_map(bbox, maptype = "terrain", source = "stamen")
ggmap(map1)
ggmap(map1) +
geom_point(data = spiders, aes(longitude, latitude)) +
labs(x = "Longitude", y = "Latitude", title = "Spider Locations")
ggmap(map1) +
geom_point(data = spiders, aes(longitude, latitude),size = 2, color = "red", alpha = 0.3) +
labs(x = "Longitude", y = "Latitude", title = "Spider Locations")
ggmap(map1) +
geom_point(data = spiders, aes(longitude, latitude), size = 2, alpha = 0.4) +
labs(x = "Longitude", y = "Latitude", title = "Spider Locations")
library(albersusa)
us_comp <- usa_sf() # get a composite map of the USA
us_comp
cnty_comp <- counties_sf() # get a composite map of USA counties
cnty_comp
ggplot() +
geom_sf(data = us_comp, size = 0.125) +
theme_linedraw()+
labs(title = "USA State Boundaries")
ca_comp <- us_comp %>%
filter(name=="California")
ca_cnty_comp <- cnty_comp %>%
filter(state=="California")
ggplot() +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)
ggplot() +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(data = spiders, aes(longitude, latitude))
ggplot() +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(data = spiders, aes(longitude, latitude))+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(0.9, 0.3)) -> uso_map
ggsave(filename = "map.svg", device = "svg", plot = uso_map, height = 5, width = 7)
spiders2 <- spiders %>%
mutate(locality_cave = if_else(str_detect(locality, "Cave"), "troglo", "epig"))
spiders2
str(spiders2)
spiders2$locality_cave<-as.factor(spiders2$locality_cave)
str(spiders2)
spiders2 %>% ggplot() +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(aes(x = longitude, y = latitude, color = locality_cave, shape = locality_cave))+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(1.2, 0.3))
